{
  "builders": [
    {
      "type": "googlecompute",
      "source_image_family": "ubuntu-1604-lts",
      "ssh_username": "godlyd",
      "project_id": "godlydpatruljen",
      "zone": "europe-west3-a"
    }
  ],

  "provisioners": [
    {
      "type": "shell",
      "script": "packer_files/write_to_bashrc.sh"
    },
    {
      "type": "file",
      "source": "packer_files/nginx.conf",
      "destination": "/tmp/nginx.conf"
    },
    {
      "type": "file",
      "source": "packer_files/docker-compose.yml",
      "destination": "/tmp/docker-compose.yml"
    },
    {
      "type": "file",
      "source": "packer_files/.env",
      "destination": "/tmp/.env"
    },
    {
      "type": "file",
      "source": "../secrets/credentials.json",
      "destination": "/tmp/credentials.json"
    },
    {
      "type": "shell",
      "scripts": [
        "packer_files/install_packages.sh",
        "packer_files/configure_packages.sh"
      ]
    }
  ]
}
